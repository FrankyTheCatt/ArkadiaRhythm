[gd_scene load_steps=4 format=3 uid="uid://cgsg7grhbovfi"]

[ext_resource type="Texture2D" uid="uid://dknwt2d4k6sbe" path="res://BASE JUEGO/assets/circleImage.png" id="2_58wg4"]

[sub_resource type="GDScript" id="GDScript_rldi8"]
script/source = "extends Area2D

const gravedad = 120
var esta_dentro = false
var selected_Key = 0

# Hace que la nota caiga
func _process(delta):
	position.y += gravedad * delta
	if esta_dentro:
		if Input.is_key_pressed(selected_Key):
			print(\"debug=> Qué bien!\")
			queue_free()

# Asignar un color y tecla fija por carril
func spawn(key:int, pos:Vector2)->void:
	position = pos
	match key:
		0:  # Carril 1
			selected_Key = KEY_A
			self.modulate = Color(1, 0, 0)  # Rojo
		1:  # Carril 2
			selected_Key = KEY_S
			self.modulate = Color(1, 1, 0)  # Amarillo
		2:  # Carril 3
			selected_Key = KEY_D
			self.modulate = Color(0, 0, 1)  # Azul
		3:  # Carril 4
			selected_Key = KEY_F
			self.modulate = Color(0, 1, 0)  # Verde

# Detecta si una nota entra en el área
func _on_area_entered(_area: Area2D) -> void:
	esta_dentro = true

# Detecta si una nota sale del área
func _on_area_exited(_area: Area2D) -> void:
	esta_dentro = false
"

[sub_resource type="CircleShape2D" id="CircleShape2D_1xujf"]
radius = 37.1214

[node name="KeyObject" type="Area2D"]
script = SubResource("GDScript_rldi8")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CircleShape2D_1xujf")

[node name="CircleImage" type="Sprite2D" parent="."]
scale = Vector2(0.121299, 0.123636)
texture = ExtResource("2_58wg4")

[connection signal="area_entered" from="." to="." method="_on_area_entered"]
[connection signal="area_exited" from="." to="." method="_on_area_exited"]
